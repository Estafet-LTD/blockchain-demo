---
# Project definition - add new microservices here
microservices:

  - name: bank-ms
    repo: estafet-blockchain-demo-bank-ms
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile     
    expose: false
    setup:
      - name: create-postgres-db
        app: bank-ms
        repo: estafet-blockchain-demo-bank-ms
        reset_db: true
      - name: create-couchbase-bucket
        bucket: "bank-ms"
              
  - name: currency-converter-ms
    repo: estafet-blockchain-demo-currency-converter-ms
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile     
    expose: false 
    setup:
      - name: create-postgres-db
        app: currency-converter-ms
        repo: estafet-blockchain-demo-currency-converter-ms
        reset_db: true
      - name: create-couchbase-bucket
        bucket: "currency-converter-ms"        
    
  - name: console-ui     
    repo: estafet-blockchain-demo-console-ui
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile     
    expose: true  
          
  - name: blockchain-gateway-ms
    repo: estafet-blockchain-demo-blockchain-gateway-ms
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile     
    expose: false    

  - name: wallet-ms
    repo: estafet-blockchain-demo-wallet-ms
    build: build.jenkinsFile
    release: release.jenkinsFile
    promote: promote.jenkinsFile
    promote_to_prod: promote-to-prod.jenkinsFile     
    expose: false
    setup:
      - name: create-postgres-db
        app: wallet-ms
        repo: estafet-blockchain-demo-wallet-ms
        reset_db: true
      - name: create-couchbase-bucket
        bucket: "wallet-ms"         